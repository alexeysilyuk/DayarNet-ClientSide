 <!-- Manage Property modal windows -->
 <div class="manageProperty modal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" (click)="closeModal()" data-dismiss="modal" aria-hidden="true">&times;</button>

          <h4 class="modal-title">Manage Properties</h4>
        </div>
        <div class="modal-body">
            <app-manage-property [globalUser] = "globalUser" [controller] = "manage_property_control" (noty)="openNoty($event)"></app-manage-property>
        </div>
      </div>
    </div>
  </div>


<!-- Contact us modal windows -->
        <div class="contacts modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" (click)="closeModal()" data-dismiss="modal" aria-hidden="true">&times;</button>

                <h4 class="modal-title">Contact us</h4>
              </div>
              <div class="modal-body">
                  <app-contact-us (noty)="openNoty($event)"></app-contact-us>
              </div>
            </div>
          </div>
        </div>


 <!-- Login modal windows -->
 <div class="loginBlocks modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" (click)="closeModal()" data-dismiss="modal" aria-hidden="true">&times;</button>

        <h4 class="modal-title">Welcome to Dayar.net</h4>
      </div>
      <div class="modal-body">
          <app-user (login) = "setLogin($event)" (noty)="openNoty($event)"></app-user>
      </div>
    </div>
  </div>
</div>


        <header>
          <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">

              <div class="navbar-header">
                <a href="#" class="navbar-brand">
                    <img src="/assets/images/logo.png" class="navbar-left" width="256" height="101" alt=""></a>
              </div>
              
              <div class="mainParams">

                <div class="col-sm-3 col-md-3 col-lg-3 col-xs-12">
                <select class="form-control" #c (change)="callCity(c.value)">
                    <option value="" disabled selected hidden>Choose City...</option>
                    <option *ngFor=" let city of cities" [value]="city.code">{{city.name}}</option>
                  </select>
                </div> 

           
                    <div class="col-sm-3 col-md-3 col-lg-3 col-xs-12" *ngIf="cityHasNeighborhoods">
                    <select class="form-control" #neighborhood (change)="callNeighborhood(neighborhood.value)">
                      <option value="" disabled selected hidden>and Neighborhood...</option>
                      <option *ngFor=" let n of neighborhoods" [value]="n.neighborhood_code">{{n.name}}</option>
                    </select>
                    </div>
                  
          
                    <div class="col-sm-3 col-md-3 col-lg-3 col-xs-12" *ngIf="basicActionsActive">
                    <button class="btn btn-default btn-sm" (click)="startSearchDirot()">Search</button>
                    <button 
                    class="btn btn-default btn-sm"
                     [disabled] = "!userLoggedin" (click)="startSteps()"
                     title="PLease log in to add new property"
                     >Add new</button>
                    </div>


                 
                </div>

                <ul class="nav navbar-nav pull-right">
                    <!-- <li><a href="#" (click)="onSelect('home')">Home</a></li> -->
                    <li><a href="#" class="mailLink" (click)="openContact()" title="Contact us">
                      <img src="/assets/images/email.png" height="40" width="40"></a></li>

                    <li><a href="#" class="mailLink" (click)="openLogin()" title="Login">
                      <img src="/assets/images/login.png" height="40" width="40"></a>
                    </li>

                    <div class="usermenu col-xs-6 col-lg-3 col-sm-4 col-md-3">
                     <h5> {{userEmail}} </h5>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#" *ngIf="userisAdmin" (click) = "openManagePropertyApprove()">Approve</a></li>
                            <li><a href="#" *ngIf="userisAdmin" (click) = "openManagePropertyRemove()">Remove</a></li>
                            <li class="divider"></li>
                            <li><a href="#" (click) = "exit()">Exit</a></li>
                          </ul>
                        <div class="clear"></div>
                      </div>

              </ul>
                
            </div>
          </nav>
          </header>
          

<!-- Main container with map -->
  <div class="row">
          
      <div class="col-sm-12">
        <!--these properties are required: center, zoom-->
        <google-map [center]="center" [zoom]="zoom" [disableDefaultUI]="disableDefaultUI" [disableDoubleClickZoom]="disableDoubleClickZoom"
                    [mapTypeId]="mapTypeId" [maxZoom]="maxZoom" [minZoom]="minZoom" [styles]="styles">
          <!--this property is required: position-->
          <google-map-marker *ngFor= "let p of positions" [position]="p" [title]="title" [content]="content">
          </google-map-marker>
        </google-map>
      </div> 



<!-- STEP BY STEP ADD FLAT -->
      <form (ngSubmit) = "SaveDira()" #addform="ngForm">
          <div class="step0 modal">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" (click)="closeModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title">Step {{currentStep }}/{{ maxStep }}: {{ stepTitle }}</h4>

                  <div class="progress">
                    <div class="progress-bar" [style.width]="progress + '%'"></div>
                  </div>

                </div>
                <div class="modal-body">

               
                <div class="formBody">
                  <!-- step 0 -->
                <div class="step" [style.marginLeft]="leftMovePosition + '%'">
                  <div class="alert alert-dismissible alert-warning">
                  <button type="button" class="close" data-dismiss="alert">&times;</button>
                  <strong>תסימו לב</strong> 
                  פה יהיה מלל 
                  </div>
                </div>


                  <!-- step 1 -->
                  <div class="step form-group" id="step1" ngModelGroup = "step1" #step1="ngModelGroup">
                    <div class="col-xs-9 col-lg-9 col-md-9 col-sm-9">
                      <label>Adress:</label>
                      <input type="text" id="street" required  name="street" [(ngModel)]="street" class="form-control" placeholder="Jabotinski">
                    </div>
                    
                    <div class="col-xs-3 col-lg-3 col-md-3 col-sm-3">
                      <label>House number:</label>
                      <input type="number" min="1" id="houseNumber" required name="houseNumber" [(ngModel)]="houseNumber" class="form-control" placeholder="15">
                      </div>
                    
                    <div class="col-xs-6 col-md-6 col-lg-6 col-sm-6">
                      <label>Rooms:</label> 
                      <input type="number" min="1" max="10" id="rooms" required name="rooms" [(ngModel)]="rooms" class="form-control" placeholder="3">
                      </div>

                    <div class="col-xs-6 col-md-6 col-lg-6 col-sm-6">
                      <label>Floor:</label>
                      <input type="number" min="0" max="32" id="floor" required name="floor" [(ngModel)]="floor" class="form-control" placeholder="3">
                      </div>
                    
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                      <label>Area:</label>
                      <input type="number" min="10" max="200" id="area" required name="area" [(ngModel)]="area" class="form-control" placeholder="Area...">
                    </div>

                    <div class="clear"></div>
                    <br>
                </div>

                <!-- step 2 -->
                <div class="step form-group" id="step2" ngModelGroup = "step2" #step2="ngModelGroup">
                  <label>Entrance Date:</label>
                  <input type="text" id="entranceDate" name="entranceDate" [(ngModel)]="entranceDate" class="form-control datepicker" placeholder="10/8/2017">

                  <label>Arnona:</label>
                  <input type="number" min="100" max="10000" id="arnona" name="arnona" required [(ngModel)]="arnona" class="form-control" placeholder="in ₪...">

                  <label>Price Per Month:</label>
                  <input type="number" min="1000" max="40000" id="price" name="price" required [(ngModel)]="price" class="form-control" placeholder="in ₪...">

                  <label>Type:</label>
                  <select name="type" [(ngModel)]="type" required  id="type" class="form-control">
                    <option disabled value="">Please choose...</option>
                    <option *ngFor="let t of propertyTypes" value="{{t}}">{{t}}</option>
                  </select>
                </div>

                <!-- step 3 -->
                <div class="step form-group" id="step3" ngModelGroup = "step3" #step3="ngModelGroup">
                  <label>Name owner:</label>
                  <input type="text" id="baal" name="baal" required [(ngModel)]="baal" class="form-control" placeholder="Boby Jones">

                  <label>Phone number:</label>
                  <input type="phone" id="phone" name="phone" required [(ngModel)]="phone" class="form-control" placeholder="05266544345">

                  <label>Contact email:</label>
                  <input type="email" id="email" name="email" readonly [(ngModel)]="email" email required class="form-control" placeholder="gmail@chucknorris.com">
                </div>

              </div>
              
            </div>
               
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" (click)="closeModal()" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-primary" (click)= "backTrackFlatForm(addform)"
                  *ngIf="currentStep > 0">← Back</button>
                  <button type="button" (click)= "validateFlatForm(addform)" class="btn btn-primary" *ngIf="currentStep < 3">Next →</button>
                  <button type="submit" class="btn btn-success" *ngIf="currentStep === 3"
                  [disabled] = "!addform.valid"> Save </button>
                </div>

                </div>
                
              </div>
            </div>
          </form>






      <div class="dirotSearch col-sm-8" *ngIf="searchDirot">
        <h2>Search Result ( {{ misparDirot }}):</h2>

        <ul class="nav nav-pills">
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              Options <span class="caret"></span>
            </a>
            <ul class="dropdown-menu hide">
              <li><a href="">Display Approved</a></li>
              <li><a href="">Display New</a></li>
              <li><a href="">Display All</a></li>
              <li class="divider"></li>
              <li><a href="#" (click)="closeSearchDirot()">Close Search</a></li>
            </ul>
          </li>
        </ul>

        <div class="alert alert-warning alert-dismissible" role="alert" *ngIf="misparDirot === 0">
          {{ searchRes }}
        </div>


        <br>

          <table class="table table-striped table-hover ">
  <thead>
    <tr>
      <th>Type</th>
      <th>Adress</th>
      <th>Price</th>
      <th>Rooms #</th>
      <th>Floor</th>
      <th>Arnona</th>

      
      <th></th>
    </tr>
  </thead>
  <tbody *ngFor="let d of dirot">
    <tr>
      <td>{{ d.type }}</td>
      <td>{{ d.street }} {{d.houseNumber}}</td>
      <td>{{ d.pricePerMonth }}</td>
      <td>{{ d.rooms }}</td>
      <td>{{ d.floor }}</td>
      <td>{{ d.arnona }}</td>
      
      <td></td>
    </tr>

  </tbody>
</table>


        <!--<div class="searchResult" *ngFor="let d of dirot">

        <div class="panel panel-default">
          <div class="panel-body">
            <p class="text-warning">{{d.street}} <strong>{{d.houseNumber}}</strong></p>
            <p>{{d.rooms}} rooms</p>
            <div class="col-lg-4 col-md-4 col-sm-4">Arnona: {{d.arnona}} ₪</div>
            <div class="col-lg-4 col-md-4 col-sm-4">Price: {{d.pricePerMonth}} ₪/month</div>
          </div>

          <div class="panel-footer">
            <div class="col-lg-4 col-md-4 col-sm-4"><b>{{d.baal}}</b> </div>
            <div class="col-lg-4 col-md-4 col-sm-4 text-info">{{d.phoneNumber}}</div>
            <div class="col-lg-4 col-md-4 col-sm-4 text-primary">{{d.contactEmail}} </div>
            <div class="clear"></div>
          </div>
        </div>

      </div>-->

      </div>



    </div>